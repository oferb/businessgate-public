{"version":3,"sources":["./$_lazy_route_resource lazy namespace object","./src/app/api.service.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/backend.service.ts","./src/app/cards/base-card/base-card.component.ts","./src/app/cards/base-card/base-card.component.html","./src/app/cards/chatlike-ending-card/chatlike-ending-card.component.ts","./src/app/cards/chatlike-ending-card/chatlike-ending-card.component.html","./src/app/cards/gallery-card/gallery-card.component.ts","./src/app/cards/gallery-card/gallery-card.component.html","./src/app/cards/scores-card/scores-card.component.ts","./src/app/cards/scores-card/scores-card.component.html","./src/app/cards/simple-card/simple-card.component.ts","./src/app/cards/simple-card/simple-card.component.html","./src/app/cards/stack-header-card/stack-header-card.component.ts","./src/app/cards/stack-header-card/stack-header-card.component.html","./src/app/cards/title-card/title-card.component.ts","./src/app/cards/title-card/title-card.component.html","./src/app/chat-msgs/chat-msg-card-stack/chat-msg-card-stack.component.ts","./src/app/chat-msgs/chat-msg-card-stack/chat-msg-card-stack.component.html","./src/app/chat-msgs/chat-msg-image/chat-msg-image.component.ts","./src/app/chat-msgs/chat-msg-image/chat-msg-image.component.html","./src/app/chat-msgs/chat-msg-select-from-list/chat-msg-select-from-list.component.ts","./src/app/chat-msgs/chat-msg-select-from-list/chat-msg-select-from-list.component.html","./src/app/config.service.ts","./src/app/data.service.ts","./src/app/i18n.service.ts","./src/app/ltr.directive.ts","./src/app/main-page/main-page.component.ts","./src/app/main-page/main-page.component.html","./src/app/map.service.ts","./src/app/widgets.service.ts","./src/app/widgets/widget-map/widget-map.component.ts","./src/app/widgets/widget-map/widget-map.component.html","./src/environments/environment.ts","./src/main.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","import { Injectable } from '@angular/core';\nimport { of } from 'rxjs';\nimport { HttpClient } from '@angular/common/http';\nimport { ConfigService } from './config.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ApiService {\n\n  url: string = null;\n\n  constructor(private http: HttpClient, private config: ConfigService) {\n    this.config.config.subscribe((cfg) => {\n      this.url = cfg.postUrl;\n    });\n  }\n\n  saveRecord(record) {\n    if (this.url) {\n      return this.http.post(this.url, record);\n    } else {\n      return of({success: true});\n    }\n  }\n}\n","import { Component, OnInit} from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.less']\n})\nexport class AppComponent implements OnInit {\n  constructor() {\n  }\n\n  ngOnInit() {\n  }\n\n\n}\n","<router-outlet></router-outlet>","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { HttpClientModule } from '@angular/common/http';\nimport { AngularFireModule } from '@angular/fire';\nimport { AngularFirestoreModule } from '@angular/fire/firestore';\n\nimport { environment } from '../environments/environment';\n\nimport { AppComponent } from './app.component';\nimport { HatoolLibModule } from 'hatool';\n\nimport { MainPageComponent } from './main-page/main-page.component';\nimport { Routes, RouterModule } from '@angular/router';\nimport { LtrDirective } from './ltr.directive';\nimport { ChatMsgImageComponent } from './chat-msgs/chat-msg-image/chat-msg-image.component';\nimport { ChatMsgSelectFromListComponent } from './chat-msgs/chat-msg-select-from-list/chat-msg-select-from-list.component';\nimport { ChatMsgCardStackComponent } from './chat-msgs/chat-msg-card-stack/chat-msg-card-stack.component';\nimport { SimpleCardComponent } from './cards/simple-card/simple-card.component';\nimport { TitleCardComponent } from './cards/title-card/title-card.component';\nimport { BaseCardComponent } from './cards/base-card/base-card.component';\nimport { GalleryCardComponent } from './cards/gallery-card/gallery-card.component';\nimport { ChatlikeEndingCardComponent } from './cards/chatlike-ending-card/chatlike-ending-card.component';\nimport { WidgetMapComponent } from './widgets/widget-map/widget-map.component';\nimport { StackHeaderCardComponent } from './cards/stack-header-card/stack-header-card.component';\nimport { ScoresCardComponent } from './cards/scores-card/scores-card.component';\n\nconst appRoutes: Routes = [\n  { path: 'r/:id', component: MainPageComponent },\n  { path: '', component: MainPageComponent },\n];\n\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    MainPageComponent,\n    LtrDirective,\n    ChatMsgImageComponent,\n    ChatMsgSelectFromListComponent,\n    ChatMsgCardStackComponent,\n    SimpleCardComponent,\n    TitleCardComponent,\n    BaseCardComponent,\n    GalleryCardComponent,\n    ChatlikeEndingCardComponent,\n    WidgetMapComponent,\n    StackHeaderCardComponent,\n    ScoresCardComponent\n  ],\n  imports: [\n    BrowserModule,\n    HttpClientModule,\n    HatoolLibModule,\n    RouterModule.forRoot(\n      appRoutes\n    ),\n    AngularFireModule.initializeApp(environment.firebase),\n    AngularFirestoreModule\n  ],\n  providers: [\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","import { Location } from '@angular/common';\nimport { Injectable } from '@angular/core';\nimport { AngularFirestore } from '@angular/fire/firestore';\nimport { from, ReplaySubject } from 'rxjs';\nimport * as stringify from 'json-stable-stringify';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class BackendService {\n\n  public record = new ReplaySubject<any>();\n  private itemId = '';\n  private state = '';\n\n  constructor(private firestore: AngularFirestore, private location: Location) {\n  }\n\n  handleItem(itemId) {\n    if (!itemId) {\n      const record = {'timestamp': new Date().toISOString(), 'data': '{}'};\n      from(this.firestore.collection('records').add(record))\n        .subscribe((docRef) => {\n          console.log('Document was written with id', docRef.id);\n          this.location.replaceState('/r/' + docRef.id);\n          this.itemId = docRef.id;\n          this.record.next({\n            self_link: window.location.href\n          });\n        });\n    } else {\n      this.itemId = itemId;\n      from(this.firestore.collection('records').doc(itemId).get())\n      .subscribe((doc) => {\n        if (doc.exists) {\n          this.state = (doc.data() as any).data;\n          console.log('Document was retrieved with content', this.state.length);\n          const record = JSON.parse(this.state);\n          console.log('>> record keys', Object.keys(record));\n          this.record.next(record);\n        }\n      });\n    }\n  }\n\n  update(item) {\n    const update = stringify(item);\n    if (update !== this.state) {\n      this.state = update;\n      return this.firestore.collection('records')\n                 .doc(this.itemId).set({data: update}, {merge: true});\n    } else {\n      return Promise.resolve();\n    }\n  }\n\n  async sendClientEmail(address, record) {\n    const item = {\n      to: address,\n      template: {\n        name: 'client-response',\n        data: {\n          self_link: record.self_link\n        }\n      }\n    };\n    return this.firestore.collection('mail').add(item).then((docref) => docref.id);\n  }\n}\n","import { Component, Input, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-base-card',\n  templateUrl: './base-card.component.html',\n  styleUrls: ['./base-card.component.less']\n})\nexport class BaseCardComponent implements OnInit {\n\n  @Input() width = 0;\n  @Input() shadow = true;\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<div class='card' [style.width]='width + \"px\"' *ngIf='width'>\n    <svg viewBox=\"0 0 1 1\"></svg>\n    <div class='square'>\n        <div class='inner' [class.shadow]='shadow'>\n            <ng-content></ng-content>\n        </div>\n    </div>\n</div>\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\n\n@Component({\n  selector: 'app-chatlike-ending-card',\n  templateUrl: './chatlike-ending-card.component.html',\n  styleUrls: ['./chatlike-ending-card.component.less']\n})\nexport class ChatlikeEndingCardComponent implements OnInit {\n\n  @Input() width = 0;\n  @Input() stack;\n  @Input() params;\n\n  @Output() closed = new EventEmitter<void>();\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n  close() {\n    this.closed.emit();\n  }\n\n}\n","<app-base-card [width]='width' [shadow]='false'>\n    <div class='content'>\n        <div class='owner'>\n            <img [src]='stack.owner.avatar'>\n            <span class='name'>{{stack.owner.name}}</span>\n            <span class='title'>{{stack.owner.title}}</span>\n        </div>\n        <div class='message'>\n            <span [innerHtml]='stack.goodbye'></span>\n        </div>\n        <div class='buttons'>\n            <span class='button' (click)='close()'> , !</span>\n            <span class='button'>   </span>\n        </div>\n    </div>\n</app-base-card>","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\n\n@Component({\n  selector: 'app-gallery-card',\n  templateUrl: './gallery-card.component.html',\n  styleUrls: ['./gallery-card.component.less']\n})\nexport class GalleryCardComponent implements OnInit {\n\n  @Input() width = 0;\n  @Input() card;\n  @Input() params;\n  @Output() selected = new EventEmitter<any>();\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n  image() {\n    return this.card.image || 'assets/img/dummy-location.png';\n  }\n\n  select(value) {\n    this.selected.emit(value);\n  }\n}\n","<app-base-card [width]='width' *ngIf='card'>\n    <div class='img' [style.background-image]='\"url(\" + image() + \")\"'></div>\n    <div class='content scheme-secondary-bg'>\n        <h1 [innerHtml]='card.title'></h1>\n        <p [innerHtml]='params.__runner.fillIn(card.content)'></p>    \n        <div class='bot-option' [innerHtml]='card.selectButtonText' (click)='select(card)' *ngIf='card.selectButtonText'></div>\n    </div>\n</app-base-card>","import { Component, Input, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-scores-card',\n  templateUrl: './scores-card.component.html',\n  styleUrls: ['./scores-card.component.less']\n})\nexport class ScoresCardComponent implements OnInit {\n\n  @Input() width = 0;\n  @Input() card;\n  @Input() params;\n  @Input() current;\n  @Input() scheme;\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n  bar_position(score) {\n    return (100 * (1 - score.score_value))+ '%';\n  }\n\n}\n","<app-base-card [width]='width' *ngIf='card'>\n    <div [class]='\"content scheme-secondary-bg scheme-\" + scheme'>\n        <h1 [innerHtml]='params.__runner.fillIn(card.title)'></h1>\n        <p [innerHtml]='params.__runner.fillIn(card.content)' *ngIf='card.content'></p>\n        <div class='score' *ngFor='let score of card.scores; let i=index' [class.selected]='score.title === current'>\n            <div class='background' [style.right]='bar_position(score)'></div>\n            <div class='number'>{{i+1}}</div>\n            <div class='title'>{{score.title}}</div>\n            <div class='value'>{{score.score_display}}</div>\n        </div>\n    </div>\n</app-base-card>","import { Component, Input, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-simple-card',\n  templateUrl: './simple-card.component.html',\n  styleUrls: ['./simple-card.component.less']\n})\nexport class SimpleCardComponent implements OnInit {\n\n  @Input() width = 0;\n  @Input() card;\n  @Input() params;\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<app-base-card [width]='width' *ngIf='card'>\n    <div class='content scheme-secondary-bg'>\n        <h1 [innerHtml]='params.__runner.fillIn(card.title)'></h1>\n        <p [innerHtml]='params.__runner.fillIn(card.content)'></p>    \n    </div>\n</app-base-card>","import { Component, Input, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-stack-header-card',\n  templateUrl: './stack-header-card.component.html',\n  styleUrls: ['./stack-header-card.component.less']\n})\nexport class StackHeaderCardComponent implements OnInit {\n\n  constructor() { }\n\n  @Input() width = 120;\n  @Input() stack;\n  @Input() params;\n\n  transforms = [\n    'rotate(5deg)',\n    'rotate(-3deg)',\n    'rotate(10deg)',\n    'rotate(-7deg)',\n    'rotate(2deg)',\n  ];\n\n  ngOnInit(): void {\n  }\n\n}\n","<app-base-card [width]='width' *ngFor='let transform of transforms' [style.transform]='transform'>\n    <div class='content scheme-primary-bg'>\n    </div>\n</app-base-card>\n<app-base-card [width]='width' *ngIf='stack'>\n    <div class='content scheme-primary-bg'>\n        <div class='title'>\n            <h1 [innerHtml]='params.__runner.fillIn(stack.title)'></h1>\n            <h2 [innerHtml]='params.__runner.fillIn(stack.subtitle)'></h2>\n        </div>\n    </div>\n</app-base-card>","import { Component, Input, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-title-card',\n  templateUrl: './title-card.component.html',\n  styleUrls: ['./title-card.component.less']\n})\nexport class TitleCardComponent implements OnInit {\n\n  @Input() width = 0;\n  @Input() stack;\n  @Input() params;\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<app-base-card [width]='width'>\n    <div class='content scheme-primary-bg'>\n        <div class='owner'>\n            <img [src]='stack.owner.avatar'>\n            <div class='deets'>\n                <span class='name'>{{stack.owner.name}}</span>\n                <span class='title'>{{stack.owner.title}}</span>\n            </div>\n        </div>\n        <div class='title'>\n            <h1 [innerHtml]='params.__runner.fillIn(stack.title)'></h1>\n            <h2 [innerHtml]='params.__runner.fillIn(stack.subtitle)'></h2>\n        </div>\n        <div class='tags'>\n            <span class='tag scheme-primary-fg' *ngFor='let tag of stack.tags'>{{tag}}</span>\n        </div>\n    </div>\n</app-base-card>","import { AfterViewInit, Component, ElementRef, HostBinding, Input, OnInit, ViewChild } from '@angular/core';\nimport { FeatureCollection } from 'geojson';\nimport { ContentManager, ScriptRunnerImpl } from 'hatool';\nimport * as mapboxgl from 'mapbox-gl';\nimport { ReplaySubject, Subject, fromEvent, Subscription } from 'rxjs';\nimport { debounceTime, filter, first, map, switchMap } from 'rxjs/operators';\nimport { DataService } from '../../data.service';\nimport { WidgetsService } from '../../widgets.service';\nimport * as turf from '@turf/turf';\nimport { BackendService } from '../../backend.service';\n\n@Component({\n  selector: 'app-chat-msg-card-stack',\n  templateUrl: './chat-msg-card-stack.component.html',\n  styleUrls: ['./chat-msg-card-stack.component.less']\n})\nexport class ChatMsgCardStackComponent implements OnInit, AfterViewInit {\n\n  @Input() params;\n  @Input() content: ContentManager;\n  @ViewChild('stackEl', {static: true}) stackEl: ElementRef;\n  @ViewChild('wrapperEl', {static: true}) wrapperEl: ElementRef;\n\n  MAX_CARD_WIDTH = 348;\n  PADDING = 60;\n  PREFIX = 'red_';\n  POLYGON_LAYERS = [\n    'polygons_choropleth_pattern',\n    'polygons_choropleth_line_base',\n    'polygons_choropleth_lines',\n    'polygons_choropleth_selected',\n  ];\n  LABEL_LAYERS = [\n    'marker_selected',\n    'markers_other'    \n  ];\n  ISO_LAYERS = [\n    'iso-fill',\n    'iso-line',\n    'iso-text',\n  ];\n\n  args: any = {};\n  record: any = {};\n  variable: string;\n  variable2: string;\n  stack: any = null;\n  stacks: any[] = [];\n  cards = [];\n  open = false;\n  opened = false;\n  width = 0;\n  fullWidth = 0;\n  selectorsSlidden = false;\n  positionTransform = 'translateY(0)';\n  mapPadding = {};\n  map: mapboxgl.Map;\n  fullBounds: mapboxgl.LngLatBounds;\n\n  returned = new ReplaySubject<string>();\n  mapFitParams = new Subject<any[]>();\n  scrollSub: Subscription = null;\n  runner: ScriptRunnerImpl;\n\n  constructor(private data: DataService, private widgets: WidgetsService, private backend: BackendService) {\n    this.mapFitParams.pipe(\n      debounceTime(100),\n    ).subscribe((x) => {\n      this._fitMap(x[0], x[1], x[2]);\n    });\n    this.slideSelectors(false);\n  }\n\n  slideSelectors(slide) {\n    this.selectorsSlidden = slide;\n  }\n\n  ngOnInit(): void {\n    this.args = this.params['cards'];\n    this.variable = this.args['variable'];\n    this.variable2 = this.args['variable2'];\n    this.runner = this.params.__runner;\n    this.record = this.runner.record;\n    this.data.stacks.pipe(\n      first(),\n      map((result: any[]) => {\n        if (this.args.stack) {\n          return [result[this.args.stack]];\n        } else if (this.args.stacks) {\n          return this.args.stacks.map((s) => result[s]);\n        } else if (this.args.stacksFrom) {\n          return this.record[this.args.stacksFrom].map(\n            (s) => s.name ? s : result[s]\n          );\n        }\n      })\n    ).subscribe((result) => {\n      this.stacks = result;\n      if (result.length === 1) {\n        this.stack = result[0];\n        this.cards = this.processCards();\n      }\n      if (this.params.__runFast) {\n        if (this.variable) {\n          if (this.record[this.variable]) {\n            this.returnValue(this.record[this.variable]);\n          }\n        } else {\n          this.returnValue();\n        }\n      }\n    });\n  }\n\n  colorSchemeClass(stack) {\n    if (stack) {\n      return 'scheme-' + stack.scheme;\n    } else {\n      return '';\n    }\n  }\n\n  ngAfterViewInit() {\n    const el = this.stackEl.nativeElement as HTMLDivElement;\n    setTimeout(() => {\n      this.fullWidth = el.offsetWidth;\n      this.width = this.fullWidth - this.PADDING;\n      if (this.width > this.MAX_CARD_WIDTH) {\n        this.width = this.MAX_CARD_WIDTH;\n      }\n    }, 0);\n  }\n\n  transform(i) {\n    if (this.open) {\n      return 'translateX(0px) translateY(0px) rotate(0deg)';\n    } else {\n      const rotation = i > 0 ? (i*777 % 10) - 5 : 0;\n      const y = (i*778) % 10;\n      return 'translateX(' + i * this.width + 'px) translateY(' + y + 'px) rotate(' + rotation + 'deg)';\n    }\n  }\n\n  calcPositionTransform() {\n    if (this.open && this.stack && this.stack.map) {\n      const el = this.wrapperEl.nativeElement as HTMLDivElement;\n      const bbox = el.getBoundingClientRect();\n      const bottom = bbox.top + bbox.height;\n      const height = window.innerHeight;\n      console.log('BBBOX', bbox, height);\n      this.positionTransform = 'translateY(' + (height - bottom - 40) + 'px)';\n    } else {\n      this.positionTransform = 'translateY(0px)';\n    }\n  }\n\n\n  processCards() {\n    const ret = [];\n    if (this.stack.introTitle) {\n      ret.push({\n        title: this.stack.introTitle,\n        content: this.stack.introContent,\n        layout: 'simple'\n      })\n    }\n    for (const card of this.stack.cards) {\n      card.selectButtonText = card.selectButtonText || this.stack.selectButtonText;\n      if (card.test) {\n        if (this.runner.get(this.record, card.test)) {\n          ret.push(card);\n        }\n      } else {\n        ret.push(card)\n      }\n    }\n    return ret;\n  }\n\n  selectStack(stack) {\n    this.stack = stack;\n    this.cards = this.processCards();\n    if (this.open || this.opened) {\n      this.closeStack(true);\n    } else {\n      this.openStack();\n    }\n  }\n\n  openStack() {\n    this.open = true;\n    this.content.setScrollLock(true);\n    setTimeout(() => {\n      const el = this.stackEl.nativeElement as HTMLDivElement;\n      this.fullWidth = el.offsetWidth;\n      this.opened = true;\n      if (this.stack.map) {\n        this.scrollSub = fromEvent(el, 'scroll').subscribe((event) => {\n          let ticking = false;\n          let scrollPosition = (event.target as HTMLDivElement).scrollLeft;\n          if (!ticking) {\n            requestAnimationFrame(() => {\n              if (scrollPosition !== 0) {\n                scrollPosition = -scrollPosition - 20 + (this.fullWidth - this.width) / 2;\n              }\n              let fromCard = Math.floor(scrollPosition / this.width);\n              let interpolate = (scrollPosition % this.width) / this.width;\n              if (interpolate === 0 && fromCard !== 0) {\n                interpolate = 1;\n                fromCard -= 1;\n              }\n              this.fitMap(fromCard, fromCard + 1, interpolate);\n              ticking = false;\n            });\n            ticking = true;\n          }\n        });\n        this.showMap();\n      }\n      setTimeout(() => {\n        el.scroll(-this.width, 0);\n        setTimeout(() => {\n          this.calcPositionTransform();\n        }, 1000);\n      }, 0);\n    }, 600);\n  }\n\n  closeStack(reopen?) {\n    this.open = false;\n    this.map = null;\n    this.content.setScrollLock(false);\n    if (this.scrollSub) {\n      this.scrollSub.unsubscribe();\n      this.scrollSub = null;  \n    }\n    this.closeMap();\n    setTimeout(() => {\n      this.opened = false;\n      this.calcPositionTransform();\n      setTimeout(() => {\n        const el = this.stackEl.nativeElement as HTMLDivElement;\n        el.scroll(0, 0);\n        if (this.stacks.length === 1) {\n          this.returned.next();\n        } else if (reopen) {\n          this.openStack();\n        }\n      }, 0);\n    }, 600);\n  }\n\n  returnValue(value?) {\n    if (this.variable) {\n      this.record[this.variable] = value;\n    }\n    if (this.variable2) {\n      this.record[this.variable2] = value;\n    }\n    if (this.open || this.opened) {\n      this.closeStack();\n    }\n    this.returned.next();\n  }\n\n  wait() {\n    return this.returned.pipe(\n      first(),\n      switchMap(() => {\n        return this.backend.update(this.record);\n      }),\n      map(() => {\n        const response = this.args.response;\n        if (response) {\n          return this.params.__runner.fillIn(response);\n        } else {\n          return false;\n        }\n      })\n    ).toPromise();\n  }\n\n  calculateGeometryBounds(geometry) {\n    const ret = new mapboxgl.LngLatBounds();\n    if (geometry.type === 'FeatureCollection') {\n      for (const feature of geometry.features) {\n        ret.extend(this.calculateGeometryBounds(feature));\n      }\n    } else if (geometry.type === 'Feature') {\n      return this.calculateGeometryBounds(geometry.geometry);\n    } else if (geometry.type === 'Polygon') {\n      for (const coordinates of geometry.coordinates) {\n        for (const latlng of coordinates) {\n          ret.extend(latlng);\n        }\n      }\n    } else {\n      ret.extend(geometry.coordinates);      \n    }\n    return ret;\n  }\n\n  calculatePoint(geometry) {\n    if (geometry.type === 'Polygon') {\n      return turf.pointOnFeature(geometry);\n    } else if (geometry.type === 'Point') {\n      return geometry;\n    } else if (geometry.type === 'Feature') {\n      return this.calculatePoint(geometry.geometry);\n    } else {\n      return null;\n    }\n  }\n\n  processGeometries() {\n    this.fullBounds = new mapboxgl.LngLatBounds();\n    this.stack.bounds = [this.fullBounds];\n    console.log('processGeometries', this.stack);\n    const geometry: FeatureCollection = {\n      type: 'FeatureCollection',\n      features: []\n    };\n    const isochronesGeometry: FeatureCollection = {\n      type: 'FeatureCollection',\n      features: []\n    };\n    const pointGeometry: FeatureCollection = {\n      type: 'FeatureCollection',\n      features: []\n    };\n    \n    this.cards.forEach((card) => {\n      if (card.geometry) {\n        card.geometry.properties.title = card.geometry.properties.title || card.title;\n        card.geometry.properties.x = card.geometry.properties.x || 2;\n        card.geometry.properties.selected = card.geometry.properties.selected || false;\n        const cardBounds = this.calculateGeometryBounds(card.geometry);\n        this.fullBounds.extend(cardBounds);\n        this.stack.bounds.push(cardBounds);\n        geometry.features.push(card.geometry);\n\n        if (!card.pointGeometry) {\n          card.pointGeometry = this.calculatePoint(card.geometry);\n        }\n        card.pointGeometry.properties = card.geometry.properties;\n        pointGeometry.features.push(card.pointGeometry);\n      }\n    });\n\n    if (!this.stack.geometry) {\n      this.stack.geometry = geometry;\n    } else {\n      this.fullBounds.extend(this.calculateGeometryBounds(this.stack.geometry));\n      (this.stack.geometry.features || []).forEach((geometry) => {\n        geometry.properties.x = geometry.properties.x || 2;\n        if (this.stack.currentField) {\n          geometry.properties.selected = this.record.location && (geometry.properties.title === this.record.location[this.stack.currentField]);\n        } else {\n          geometry.properties.selected = geometry.properties.selected || false;\n        }\n      });\n    }\n\n    if (!this.stack.isochronesGeometry) {\n      this.stack.isochronesGeometry = isochronesGeometry;\n    } else {\n      this.fullBounds.extend(this.calculateGeometryBounds(this.stack.isochronesGeometry));\n    }\n\n    if (!this.stack.pointGeometry) {\n      this.stack.pointGeometry = pointGeometry;\n    }\n\n    if (this.stack.bounds.length === 1) {\n      this.cards.forEach(() => {\n        this.stack.bounds.push(this.fullBounds);\n      });  \n    }\n    this.stack.bounds.push(this.fullBounds);\n  }\n  \n  showMap() {\n    this.processGeometries();\n    if (this.stack.scheme === 'green') {\n      this.PREFIX = 'green_';\n    }\n    this.cards.forEach((card) => {\n      card.bounds = card.bounds || this.fullBounds;\n    });\n    this.widgets.mapBounds.next({bounds: this.fullBounds, padding: {}});\n    this.widgets.mapLoaded.pipe(filter((x) => !!x), first()).subscribe((map) => {\n      this.map = map;\n      map.addSource(\n        'data',  {type: 'geojson', data: this.stack.geometry}\n      );\n      map.addSource(\n        'pointData',  {type: 'geojson', data: this.stack.pointGeometry}\n      );\n      map.addSource(\n        'isochronesData',  {type: 'geojson', data: this.stack.isochronesGeometry}\n      );\n      const style = map.getStyle();\n      for (const layer_id of this.POLYGON_LAYERS) {\n        const layer = style.layers.filter((l) => l.id == this.PREFIX + layer_id)[0];\n        const newLayer: any = {\n          id: layer_id, \n          type: layer.type,\n          source: 'data',\n          layout: Object.assign(layer.layout || {}, {visibility: 'visible'}),\n          paint: layer.paint,\n        };\n        if (layer.filter) {\n          newLayer.filter = layer.filter;\n        }\n        map.addLayer(newLayer);\n      }\n      for (const layer_id of this.ISO_LAYERS) {\n        const layer = style.layers.filter((l) => l.id === layer_id)[0];\n        map.addLayer({\n          id: '_' + layer_id, \n          type: layer.type,\n          source: 'isochronesData',\n          layout: Object.assign(layer.layout || {}, {visibility: 'visible'}),\n          paint: layer.paint,          \n        });\n      }\n      for (const layer_id of this.LABEL_LAYERS) {\n        const layer = style.layers.filter((l) => l.id === layer_id)[0];\n        map.addLayer({\n          id: '_' + layer_id, \n          type: layer.type,\n          source: 'pointData',\n          layout: Object.assign(layer.layout || {}, {visibility: 'visible'}),\n          paint: layer.paint,          \n        });\n      }\n      if (this.record.location && this.record.location.center) {\n        map.addSource(\n          'centerData',  {type: 'geojson', data: this.record.location.center}\n        );\n        const layer = style.layers.filter((l) => l.id === 'center_symbol')[0];\n        map.addLayer({\n          id: '_center_symbol', \n          type: layer.type,\n          source: 'centerData',\n          layout: Object.assign(layer.layout || {}, {visibility: 'visible'}),\n        });\n      }\n      const el = this.wrapperEl.nativeElement as HTMLDivElement;\n      this.mapPadding = {\n        top: 10, left: 10, right: 10, bottom: window.innerHeight - el.getBoundingClientRect().height \n      };\n      this.fitMap(1, 2, 0);\n    });\n  }\n\n  fitMap(boundsIdx1, boundsIdx2, t) {\n    this.mapFitParams.next([boundsIdx1, boundsIdx2, t]);\n  }\n\n  _fitMap(boundsIdx1, boundsIdx2, t) {\n    if (!this.fullBounds) {\n      return;\n    }\n    if (this.map) {\n      const index = Math.round(boundsIdx1 + t) - 1;\n      const card = this.cards[index];\n      this.slideSelectors(!!card);\n      if (card && card.geometry) {\n        (this.map.getSource('data') as mapboxgl.GeoJSONSource).setData(card.geometry);\n      } else {\n        if (card && card.scores) {\n          const scores = {};\n          for (const score of card.scores) {\n            scores[score.title] = score.geometry_score;\n          }\n          for (const feature of this.stack.geometry.features) {\n            if (feature.properties) {\n              feature.properties.x = scores[feature.properties.title];\n            }\n          }\n          console.log(this.stack.geometry);\n        }\n        (this.map.getSource('data') as mapboxgl.GeoJSONSource).setData(this.stack.geometry);\n      }\n      let pointGeometry: GeoJSON.FeatureCollection = {\n        type: 'FeatureCollection',\n        features: []\n      };\n      if (card && card.pointGeometry) {\n        pointGeometry = card.pointGeometry;\n      } else if (this.stack.pointGeometry) {\n        pointGeometry = this.stack.pointGeometry;\n      } \n      (this.map.getSource('pointData') as mapboxgl.GeoJSONSource).setData(pointGeometry);\n    }\n    const bounds1: mapboxgl.LngLatBounds = this.stack.bounds[boundsIdx1];\n    const bounds2: mapboxgl.LngLatBounds = this.stack.bounds[boundsIdx2];\n    let bounds = bounds2;\n    if (bounds1 !== bounds2) {\n      bounds = new mapboxgl.LngLatBounds(\n        new mapboxgl.LngLat(\n          (1 - t) * bounds1.getSouthWest().lng + t * bounds2.getSouthWest().lng,\n          (1 - t) * bounds1.getSouthWest().lat + t * bounds2.getSouthWest().lat,\n        ), //sw\n        new mapboxgl.LngLat(\n          (1 - t) * bounds1.getNorthEast().lng + t * bounds2.getNorthEast().lng,\n          (1 - t) * bounds1.getNorthEast().lat + t * bounds2.getNorthEast().lat,\n        ), //ne\n      );\n    }\n    this.widgets.mapBounds.next({bounds: bounds, padding: this.mapPadding});\n  }\n\n  closeMap() {\n    this.slideSelectors(false);\n    this.widgets.mapBounds.next(null);\n  }\n\n  current() {\n    if (this.stack.currentField && this.record && this.record.location) {\n      return this.record.location[this.stack.currentField];\n    }\n  }\n\n  layout(card) {\n    return card.layout || this.stack.layout || 'simple';\n  }\n}\n","<div class='stack-wrapper' [style.transform]='positionTransform' #wrapperEl [class.open]='opened'>\n    <div class='stack-selectors' *ngIf='!!stacks && stacks.length > 1' [class.open]='opened'\n         [class.slidden]='selectorsSlidden'>\n        <app-stack-header-card *ngFor='let _stack of stacks'\n            [class]='colorSchemeClass(_stack)'\n            [params]='params' [stack]='_stack'\n            (click)='selectStack(_stack)'\n        ></app-stack-header-card>\n    </div>\n    <div class='stack' [class.open]='opened' #stackEl [class]='colorSchemeClass(stack)'>\n        <ng-container *ngIf='stack'>\n            <app-title-card [params]='params'\n                    [stack]='stack' [width]='width' [style.transform]='transform(0)'\n            (click)='openStack()'\n            ></app-title-card>\n            <ng-container *ngFor='let card of cards; let i = index'>                \n                <ng-container *ngIf='layout(card) === \"simple\"'>\n                    <app-simple-card [params]='params'\n                        [card]='card' [width]='width' [style.transform]='transform(i+1)'\n                    ></app-simple-card>\n                </ng-container>\n                <ng-container *ngIf='layout(card) === \"gallery\"'>\n                    <app-gallery-card [params]='params'\n                        [card]='card' [width]='width' [style.transform]='transform(i+1)'\n                        (selected)='returnValue($event)'\n                    ></app-gallery-card>\n                </ng-container>\n                <ng-container *ngIf='layout(card) === \"scores\"'>\n                    <app-scores-card [params]='params'\n                        [card]='card' [width]='width' [style.transform]='transform(i+1)'\n                        [scheme]='stack.scheme'\n                        [current]='current()'\n                    ></app-scores-card>\n                </ng-container>\n            </ng-container>    \n            <app-chatlike-ending-card [params]='params' (click)='closeStack()'\n                                        [stack]='stack' [width]='width'\n                                        *ngIf='stack.goodbye'\n                                        [style.transform]='transform(cards.length+1)'></app-chatlike-ending-card>\n        </ng-container>\n    </div>\n    <div class='bot-option'  [class.open]='opened' (click)='returnValue()' *ngIf='stacks.length > 1 || (stack && !stack.disableClose)'>\n        <img src='assets/img/down-arrow.png'/>\n    </div>\n</div>\n","import { Component, Input, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-chat-msg-image',\n  templateUrl: './chat-msg-image.component.html',\n  styleUrls: ['./chat-msg-image.component.less']\n})\nexport class ChatMsgImageComponent implements OnInit {\n\n  @Input() params;\n  @Input() content;\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n  wait() {\n    return Promise.resolve(false);\n  }\n\n}\n","<div class='container' [style.justify-content]='params.img.justify_content || \"center\"'>\n    <img [src]='params.img.asset' [style.width]='params.img.width || \"80%\"'>\n</div>\n","import { Component, ElementRef, Input, OnInit, ViewChild } from '@angular/core';\nimport { ContentManager } from 'hatool';\nimport { ReplaySubject } from 'rxjs';\nimport { first, map, switchMap, tap } from 'rxjs/operators';\nimport { BackendService } from '../../backend.service';\nimport { DataService } from '../../data.service';\n\n@Component({\n  selector: 'app-chat-msg-select-from-list',\n  templateUrl: './chat-msg-select-from-list.component.html',\n  styleUrls: ['./chat-msg-select-from-list.component.less']\n})\nexport class ChatMsgSelectFromListComponent implements OnInit {\n\n  @Input() params;\n  @Input() content: ContentManager;\n  @ViewChild('input', {static: false}) inputEl: ElementRef;\n\n  args: any = {};\n  record: any = {};\n  items: any[] = [];\n  done = false;\n  typed = ''; \n  stack = [];\n\n  selection = new ReplaySubject<string>(1);\n\n  constructor(private data: DataService, private backend: BackendService) { }\n\n  ngOnInit(): void {\n    this.args = this.params['select-from-list'];\n    this.record = this.params.__runner.record;\n    console.log('SELECT_FROM_LIST', this.params.__runFast, this.record[this.args.variable]);\n    if (this.params.__runFast) {\n      if (this.record[this.args.variable]) {\n        this.done = true;\n        this.selection.next(this.record[this.args.variable]);\n        return;\n      }\n    }\n\n    if (this.args.source === 'business_kinds') {\n      this.data.businesses.pipe(\n        first(),\n        map((result: any[]) => {\n          return result.map((x) => {\n            return {\n              value: x.business_kind_name,\n              display: x.business_kind_name\n            };\n          });\n        })\n      ).subscribe((result) => {\n        this.items = result;\n      })\n    }\n    if (this.args.source === 'locations') {\n      this.data.locations.pipe(\n        first(),\n      ).subscribe((result) => {\n        this.items = result;\n      })\n    }\n  }\n\n  selected(item) {\n    if (item.value) {\n      this.done = true;\n      this.selection.next(item.value);  \n    } else {\n      this.stack.unshift({prefix: item.display, items: this.items});\n      this.inputEl.nativeElement.value = item.display + ' ';\n      this.items = item.items;\n    }\n  }\n\n  wait() {\n    return this.selection.pipe(\n      first(),\n      tap((value) => {\n        this.record[this.args.variable] = value;\n        this.record[this.args.variable2] = value;\n      }),\n      switchMap(() => {\n        return this.backend.update(this.record);\n      }),\n      map(() => {\n        const response = this.args.response;\n        if (response) {\n          return this.params.__runner.fillIn(response);\n        } else {\n          return false;\n        }\n      })\n    ).toPromise();\n  }\n\n  highlight(item) {\n    if (this.typed) {\n      return item.replace(this.typed, `<b>${this.typed}</b>`)\n    }\n    return item\n  }\n\n  search(x) {\n    this.typed = x;\n    if (this.stack && this.stack.length > 0 && x.indexOf(this.stack[0].prefix) === -1) {\n      const p = this.stack.shift();\n      this.items = p.items;\n    }\n    for (const i of this.items) {\n      if (x === i.display && i.items) {\n        this.selected(i);\n      }\n    }\n  }\n\n  visible(item) {\n    if (this.typed && this.typed.length) {\n      return item.indexOf(this.typed) >= 0; \n    }\n    return true;\n  } \n\n}\n","<div class='selector' *ngIf='!done'>\n    <div class='input'>\n        <input type='text' (keyup)='search($event.target.value)' [placeholder]='args.placeholder' #input>\n    </div>\n    <div class='options'>\n        <ng-container *ngFor='let item of items' >\n            <div class='option' (click)='selected(item)' *ngIf='visible(item.display)'>\n                <span [innerHtml]='highlight(item.display)'></span>\n            </div>   \n        </ng-container>\n    </div>\n</div>","import { Injectable } from '@angular/core';\nimport { ReplaySubject } from 'rxjs';\nimport { HttpClient } from '@angular/common/http';\nimport { I18nService } from './i18n.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ConfigService {\n\n  config = new ReplaySubject<any>(1);\n\n  constructor(private http: HttpClient, private i18n: I18nService) {\n    this.i18n.lang.subscribe((lang) => {\n      this.http.get('assets/script.json')\n      .subscribe((res) => {\n        const config: any = res;\n        config.locale = lang;\n        for (const item of config.s[1].keys) {\n          const key = item.name;\n          let value = item.show;\n          if (value['.tx']) {\n            value = value['.tx'][lang] || value['.tx']['_'];\n          }\n          config[key] = value;\n        }\n        console.log(config);\n        this.config.next(config);\n      });\n    });\n  }\n\n}\n","import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { ReplaySubject, forkJoin } from 'rxjs';\nimport { first, switchMap } from 'rxjs/operators';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DataService {\n\n  BUSINESS_DATA_URL = 'assets/businesses.json';\n  LOCATIONS_DATA_URL = 'assets/locations1.json';\n  \n  STACKS_DATA_URL = 'assets/stacks.json';\n  DEMAND_STACKS_DATA_URL = 'assets/demand_stacks.json';\n  INSTITUTIONS_STACKS_DATA_URL = 'assets/institutions_stack.json';\n  DEMOGRAPHICS_STACKS_DATA_URL = 'assets/demographics_stack.json';\n  \n  DEMAND_CATEGORIES = 'assets/demand_categories.json';\n  NEIGHBORHOODS_GEOJSON = 'assets/neighborhoods.geojson';\n  COMMERCIAL_AREAS_URL = 'assets/commercial-areas.json';\n\n  public businesses = new ReplaySubject<any>(1);\n  public locations = new ReplaySubject<any>(1);\n  public neighborhods = new ReplaySubject<any>(1);\n  public demand_categories = new ReplaySubject<any>(1);\n  public stacks = new ReplaySubject<any>(1);\n  public commercial_areas = new ReplaySubject<any>(1);\n\n  constructor(private http: HttpClient) {\n    this.http.get(this.BUSINESS_DATA_URL).subscribe((response) => {\n      this.businesses.next(response);\n    });\n    this.http.get(this.LOCATIONS_DATA_URL).subscribe((response) => {\n      this.locations.next(response);\n    });\n    this.http.get(this.DEMAND_CATEGORIES).subscribe((response) => {\n      this.demand_categories.next(response);\n    });\n    this.http.get(this.COMMERCIAL_AREAS_URL).subscribe((response) => {\n      this.commercial_areas.next(response);\n    });\n    forkJoin([\n      this.http.get(this.STACKS_DATA_URL),\n      this.http.get(this.DEMAND_STACKS_DATA_URL),\n      this.http.get(this.INSTITUTIONS_STACKS_DATA_URL),\n      this.http.get(this.DEMOGRAPHICS_STACKS_DATA_URL),\n    ])\n    .subscribe((responses: any[]) => {\n      console.log('GOT STACKS');\n      const stacks = {};\n      for (const response of responses) {\n        for (const stack of response) {\n          stacks[stack.name] = stack;\n          if (stack.cardsUrl) {\n            stack.cards = [];\n            this.http.get(stack.cardsUrl).subscribe((response: any) => {\n              stack.cards = response;\n            });\n          }\n        }  \n      }\n      this.stacks.next(stacks);\n    });\n    forkJoin([\n      this.stacks.pipe(first()),\n      this.http.get(this.NEIGHBORHOODS_GEOJSON),\n    ]).subscribe((ret) => {\n      const stacks = ret[0];\n      const neighborhods = ret[1];\n      for (const stack_name of Object.keys(stacks)) {\n        const stack = stacks[stack_name];\n        if (stack.name.indexOf('demand.') === 0) {\n          stack.geometry = neighborhods;\n        }\n      }\n      this.neighborhods.next(neighborhods);\n    });\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { ReplaySubject } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class I18nService {\n\n  ltr = false;\n  public lang = new ReplaySubject<string>(1);\n\n  constructor(private activatedRoute: ActivatedRoute, private router: Router) {\n    this.activatedRoute.queryParamMap.subscribe((queryParamMap) => {\n      const lang = queryParamMap.get('lang') || '_';\n      this.ltr = lang === 'en' || lang === 'es' || lang === 'ru' || lang === 'fr';\n      this.lang.next(lang);\n    });\n  }\n}\n","import { Directive, ElementRef } from '@angular/core';\nimport { I18nService } from './i18n.service';\n\n@Directive({\n  selector: '[appLtr]'\n})\nexport class LtrDirective {\n\n  constructor(_: I18nService, el: ElementRef) {\n    if (_.ltr) {\n      el.nativeElement.classList.add('ltr');\n    }\n  }\n\n}\n","import { Component, OnInit } from '@angular/core';\nimport { ScriptRunnerImpl as ScriptRunner, ContentManager } from 'hatool';\nimport { ConfigService } from '../config.service';\nimport { HttpClient } from '@angular/common/http';\nimport { ApiService } from '../api.service';\nimport { I18nService } from '../i18n.service';\nimport { ChatMsgImageComponent } from '../chat-msgs/chat-msg-image/chat-msg-image.component';\nimport { ChatMsgSelectFromListComponent } from '../chat-msgs/chat-msg-select-from-list/chat-msg-select-from-list.component';\nimport { ChatMsgCardStackComponent } from '../chat-msgs/chat-msg-card-stack/chat-msg-card-stack.component';\nimport { DataService } from '../data.service';\nimport { first, map, switchMap, tap } from 'rxjs/operators';\nimport * as turf from '@turf/turf';\nimport { forkJoin, of, Subscription } from 'rxjs';\nimport { MapService } from '../map.service';\nimport { BackendService } from '../backend.service';\nimport { ActivatedRoute } from '@angular/router';\n\n@Component({\n  selector: 'app-main-page',\n  templateUrl: './main-page.component.html',\n  styleUrls: ['./main-page.component.less']\n})\nexport class MainPageComponent implements OnInit {\n  content: ContentManager;\n  runner: ScriptRunner;\n  runnerSub: Subscription;\n  config: any = {};\n  record: any = {};\n\n  TIMEOUT = 10;\n\n  constructor(private cfg: ConfigService,\n              private http: HttpClient,\n              private api: ApiService,\n              private data: DataService,\n              private map: MapService,\n              private activatedRoute: ActivatedRoute,\n              private backend: BackendService,\n              public _: I18nService) {\n    this.activatedRoute.params.subscribe((x) => {\n      this.backend.handleItem(x.id);\n    })\n  }\n\n  initChat() {\n    this.cfg.config.pipe(\n      first(),\n      switchMap((config) => {\n        this.config = config;\n        return this.backend.record;\n      }),\n      first(),\n      tap((record) => {\n        this.record = record;        \n      })\n    ).subscribe(() => {\n      this.content = new ContentManager();\n      this.runner = new ScriptRunner(this.http, this.content, this.config.locale);\n      this.runner.timeout = 250;\n      this.runner.registerCustomComponents([\n        {\n          keyword: 'img',\n          cls: ChatMsgImageComponent\n        },\n        {\n          keyword: 'select-from-list',\n          cls: ChatMsgSelectFromListComponent\n        },\n        {\n          keyword: 'cards',\n          cls: ChatMsgCardStackComponent\n        },\n      ]);\n      this.content.sendButtonText = '';\n      this.content.inputPlaceholder = this.config.inputPlaceholder;\n      this.start();\n    })\n  }\n\n  ngOnInit() {\n    this.initChat();\n  }\n\n  async check_for_opportunity() {\n    // TODO\n    return false;\n  }\n\n  async calculate_locations(record) {\n    const location = record.location;\n    if (location) {\n      if (location.pointGeometry) {\n        location.center = location.pointGeometry.geometry;\n      } else {\n        location.center = {\n          type: 'Point',\n          coordinates: [location.lon, location.lat]\n        };\n      }\n      const obs = this.data.neighborhods.pipe(\n        tap((neighborhoods) => {\n              for (const neighborhood of neighborhoods.features) {\n                if (turf.booleanContains(neighborhood, location.center)) {\n                  location.neighborhood = neighborhood.properties.title;\n                  break;\n                }\n              }\n            }),\n        switchMap(() => this.data.commercial_areas),\n        tap((commercial_areas) => {\n              for (const commercial_area of commercial_areas) {\n                if (turf.booleanContains(commercial_area.geometry, location.center)) {\n                  location.commercial_area = commercial_area.title;\n                  break;\n                }\n              }\n        }),\n        first(),\n        switchMap(() => {\n          if (!record.location.isochrones) {\n            return forkJoin([\n              this.map.isochrone(location.center.coordinates, 5),\n              this.map.isochrone(location.center.coordinates, 10)\n            ]);  \n          } else {\n            return of(record.location.isochrones);\n          }\n        }),\n        tap((isochrones) => {\n          console.log('GOT ISOCHRONES', isochrones);\n          record.location.isochrones = isochrones;\n        })\n      );\n      return obs.toPromise();\n    }\n  }\n\n  check_needs_licensing(record) {\n    const business_kind = record._;\n    return this.data.businesses.pipe(\n      first(),\n      map((businesses) => {\n        const business_record = businesses.filter((b) => b.business_kind_name === business_kind)[0];\n        console.log('_business_record', business_record);\n        record._business_record = business_record;\n        record._num_licensing_agencies = business_record.licensing_agency.length;\n        record._licensing_agencies_stacks = business_record.licensing_agency.map((l) => l.value_id);\n        return !!record._business_record.license_item && record._business_record.license_item.length > 0;\n      })\n    ).toPromise();\n  }\n\n  check_needs_signage(record) {\n    return record._business_record.sign_count > 0;\n  }\n\n  calculate_arnona(record) {\n    const business_record = record._business_record;\n    const location = record.;\n    const arnona_info: any = {};\n    arnona_info._ = business_record.tariff_zone;\n    if (business_record.tariffs['']) {\n      // Not zone aware\n      arnona_info. = business_record.tariffs[''];\n    } else {\n      // Zone aware\n      arnona_info. = location.arnona_zones[arnona_info._] || 'error';\n      arnona_info. = business_record.tariffs[arnona_info.] || 0;\n      arnona_info._ = arnona_info[''] === 0\n    }\n    if (record._ && arnona_info[''] > 0) {\n      const size = parseInt(\n        record._,\n        10\n      );\n      if (size > 0) {\n        arnona_info._ = arnona_info. * size / 12;\n        arnona_info._ = arnona_info._.toFixed(0);\n      }\n    }\n    arnona_info. = arnona_info..toFixed(2);\n    record. = arnona_info;\n  }\n\n  async check_needs_demand(record) {\n\n    function update_record(demand) {\n      record['demand-stacks'] = [...new Set(demand.map((x) => 'demand.' + x[0].split(' ').join('_')))];\n      for (const k of Object.keys(record)) {\n        if (k.indexOf('demand__') === 0) {\n          record[k] = false;\n        }\n      }\n      for (const x of demand) {\n        record[`demand__${x[0]}__${x[1]}`.split(' ').join('_')] = true;\n      }\n    }\n\n    if (record._business_record) {\n      const demand = record._business_record.demand_category;\n      if (demand && demand.length > 0) {\n        update_record(demand);\n        return true;\n      } \n    } \n    return this.data.demand_categories.pipe(\n      first(),\n      map((demand) => {\n        update_record(demand);\n      return false;\n      })).toPromise();\n  }\n\n  prepare_geo_insights(record) {\n    return this.data.stacks.pipe(\n      first(),\n      tap((stacks) => {\n        const features: any[] = [];\n        features.push(...record.location.isochrones[0].features);\n        features.push(...record.location.isochrones[1].features);\n        stacks.institutions.isochronesGeometry = {\n          type: 'FeatureCollection',\n          features: features\n        };\n        stacks.institutions.cards.forEach((card) => {\n          for (const feature of card.pointGeometry.features) {\n            if (turf.distance(feature, record.location.center) < 0.5) {\n              card.test = 'location';\n              return;\n            }\n          }\n          card.test = '__non_existent__';\n        });\n      })\n    ).toPromise();      \n  }\n\n  async send_client_response_email(record) {\n    const address = record.email_address;\n    return this.backend.sendClientEmail(address, record);\n  }\n\n  restart() {\n    const state = this.runner.state;\n    if (this.runnerSub) {\n      this.runnerSub.unsubscribe();\n      this.runnerSub = null;\n    }\n    this.initChat();\n  }\n\n  start() {\n    this.runner.timeout = this.TIMEOUT;\n    this.runner.fixme = () => {\n      this.restart();\n    };\n    console.log('CONTENT', this.content);\n    this.content.debug = true;\n    this.runner.debug = true;\n    this.record._state = this.record._state || {};\n    this.runner.state = this.record._state;\n    this.runnerSub = this.runner.run(\n      this.config,\n      0,\n      {\n        check_for_opportunity: async () => { return await this.check_for_opportunity(); },\n        check_needs_licensing: async (record) => { return await this.check_needs_licensing(record); },\n        check_needs_signage: async (record) => { return await this.check_needs_signage(record); },\n        calculate_arnona: async (record) => { return await this.calculate_arnona(record); },\n        check_needs_demand: async (record) => { return await this.check_needs_demand(record); },\n        calculate_locations: async (record) => { return await this.calculate_locations(record); },\n        prepare_geo_insights: async (record) => { return await this.prepare_geo_insights(record); },\n        send_client_response_email: async (record) => { return await this.send_client_response_email(record); },\n      },\n      async (key, value, record) => {\n        await this.backend.update(record);\n      },\n      this.record\n    ).pipe(\n      switchMap(() => {\n        this.content.reportUpdated(null);\n        this.content.queueFunction(async () => {\n          this.content.setQueueTimeout(this.TIMEOUT);\n          this.runner.runFast = false;\n          this.content.messages.forEach((m) => { m.params.fixme = null; });\n        });\n        return this.backend.update(this.record);\n      })\n    ).subscribe((res) => {\n      console.log('done!', res);\n    });\n  }\n}","<div class='chat'>\n  <htl-hatool [content]='content' *ngIf='content' appLtr></htl-hatool>\n</div>\n<app-widget-map></app-widget-map>\n","import * as mapboxgl from 'mapbox-gl';\n\nimport { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { map } from 'rxjs/operators';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class MapService {\n\n  ACCESS_TOKEN = 'pk.eyJ1IjoiYWthcml2IiwiYSI6ImNqMWdkMXd0MzAwMGgycXV4dDVhNWUzam4ifQ.0Q6N5ch8nrnp5sLnCpDYZQ';\n\n  constructor(private http: HttpClient) {\n    (mapboxgl as any).accessToken = this.ACCESS_TOKEN;\n    mapboxgl.setRTLTextPlugin(\n      'https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-rtl-text/v0.2.3/mapbox-gl-rtl-text.js',\n      null,\n      true // Lazy load the plugin\n    );\n  }\n\n  isochrone(coordinates, minutes) {\n    const urlBase = 'https://api.mapbox.com/isochrone/v1/mapbox';\n    const url = `${urlBase}/walking/${coordinates[0]},${coordinates[1]}` +\n      `?contours_minutes=${minutes}&polygons=true&access_token=${this.ACCESS_TOKEN}`;\n    return this.http.get(url).pipe(\n      map((geojson: GeoJSON.FeatureCollection) => {\n        for (const feature of geojson.features) {\n          feature.properties['iso-distance'] = minutes;\n        }\n        return geojson;\n      })\n    );\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { BehaviorSubject, ReplaySubject, Subject } from 'rxjs';\n\nimport * as mapboxgl from 'mapbox-gl';\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class WidgetsService {\n\n  public mapBounds = new Subject<{bounds: mapboxgl.LngLatBounds, padding: any}>();\n  public mapLoaded = new Subject<mapboxgl.Map>();\n\n  constructor() { }\n}\n","import { Component, OnInit, ViewChild, ElementRef } from '@angular/core';\nimport { MapService } from '../../map.service';\nimport { WidgetsService } from '../../widgets.service';\n\nimport * as mapboxgl from 'mapbox-gl';\nimport { ReplaySubject } from 'rxjs';\nimport { first, distinctUntilChanged } from 'rxjs/operators';\n\n@Component({\n  selector: 'app-widget-map',\n  templateUrl: './widget-map.component.html',\n  styleUrls: ['./widget-map.component.less']\n})\nexport class WidgetMapComponent implements OnInit {\n\n  @ViewChild('mapEl', {static: true}) mapEl: ElementRef;\n\n  map: mapboxgl.Map;\n  open = false;\n  mapObs: ReplaySubject<mapboxgl.Map> = null;\n  \n  constructor(private mapService: MapService, private widgets: WidgetsService) {\n    widgets.mapBounds.pipe(\n      distinctUntilChanged((a, b) => {\n        return (\n          (a === b) ||\n          (!!a && !!b && \n            (a.padding === b.padding) &&\n            ((a.bounds === b.bounds) ||\n             (a.bounds.toString() === b.bounds.toString())) \n          )\n        );\n      }),\n    ).subscribe((bounds) => {\n      if (bounds) {\n        if (this.mapObs === null) {\n          this.open = true;\n          this.mapObs = new ReplaySubject<mapboxgl.Map>(1);\n          setTimeout(() => {\n            console.log('CREATING MAP', bounds);\n            this.map = new mapboxgl.Map({\n              container: this.mapEl.nativeElement,\n              style: 'mapbox://styles/akariv/ckhix97sm2bcw19ldri4vu9ds/draft',\n              bounds: bounds.bounds,\n              minZoom: 3,\n            });  \n            this.map.on('style.load', () => {\n              this.mapObs.next(this.map);\n              this.widgets.mapLoaded.next(this.map);\n            });\n          }, 0);\n        } else {\n          this.mapObs.pipe(first()).subscribe((map) => {\n            map.fitBounds(bounds.bounds, {padding: bounds.padding});\n          });\n        }\n      } else {\n        if (this.mapObs !== null) {\n          this.mapObs.pipe(first()).subscribe((map) => { \n            map.remove();\n            this.open = false;\n            this.map = null;\n            this.mapObs = null;\n          });\n          this.widgets.mapLoaded.next(null);\n        }\n      }\n    });\n  }\n\n  ngOnInit(): void {\n  }\n\n}\n","<div class='map' [class.open]='open' #mapEl>\n\n</div>\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false,\n  firebase: {\n    apiKey: 'AIzaSyBThYMMJrWg1BznrJEaQ49PSw1lG_XHApM',\n    authDomain: 'businessgate-beersheva.firebaseapp.com',\n    databaseURL: 'https://businessgate-beersheva.firebaseio.com',\n    projectId: 'businessgate-beersheva',\n    storageBucket: 'businessgate-beersheva.appspot.com',\n    messagingSenderId: '292108806732',\n    appId: '1:292108806732:web:1b2df43212b5e0202ae2e9',\n    measurementId: 'G-MCEC1ECFK6'\n  }\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"],"sourceRoot":"webpack:///"}